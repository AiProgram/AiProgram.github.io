---
title: 计算机网络复习1
date: 2020-07-25 16:55:21
tags:
categories:
- 计算机网络
---

# OSI，TCP/IP协议栈

## OSI，TCP/IP分层

<!-- more -->

+ OSI分七层，自底向上：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层
+ TCP/IP分四层：网络接口层（物理、链路合并）、网络层、传输层、应用层（会话、表示、应用合并）。
+ 学习中使用中和两者的五层结构：物理、链路、网络、传输、应用层（会话、表示、应用层合并）。

## 五层分层的作用及其协议栈

### 物理层（Physical Layer）

+ 物理层主要规定媒体传输接口的机械、电气、功能、过程特性
+ 物理层不考虑传输的是怎样的比特流，而是考虑比特流怎样传输，所以物理层没有所谓的网络协议栈。

### 数据链路层（Data Link Layer）

#### 链路层作用

+ 在网络上，不同的两个主机之间有可能通过多个中间主机连接。但是也有可能直接通过一段链路连接，且该链路上不存在中间主机。数据链路就是负责后一种最简单链路。

#### 链路层组成

+ 链路指的是物理链路，只有加上其上承载的通信协议才成为完整的数据链路。
+ 现在的网络适配器一般包含了物理、数据链路两层的功能。
+ 数据链路对应数据单元---`帧`
+ 注意：
  1. 到数据链路为止，我们熟悉的**TCP/IP**协议都还**没有出现**
  2. 正因为TCP/IP都还在上面的网络层，所以更高级的协议更是**没有出现**
+ 计算机网络协议采用**类似套娃**的形式，这点和Java 的IO结构很像。除了链路层外，其他层**均适用以下概括**。
  1. 高层协议把自己的数据（包）传递到下一层，低层可能会在数据外加上一层封装，也有可能把高层数据分割成多份后在每一份外加上一层封装。低层协议所加的封装保存的就是协议所需的信息，例如数据长度、协议标志、数据源、接收者等等。
  2. 这样数据依次向下传递直到物理层发送，协议就形成了一个高层协议在栈底的栈。而接收时协议栈出栈，每出栈一层协议，该层协议都会处理自己的封装，还原成高层协议需要的数据。
  3. 如此一来，各层协议各司其职，都只需要处理自己负责的数据传输即可。

#### 链路层协议

+ 链路层协议有多种，但是它们全部需要解决三大问题：**封装成帧、透明传输、差错检测**

##### 封装成帧

+ 链路层对网络层（IP协议）传下来的数据使用封装：帧首部--数据段--帧尾部
+ 数据端的最大长度由MTU规定
+ 链路协议采用帧定界符来分割数据段的边界。帧前部使用SOH控制字符，帧尾部使用EOT控制字符，这两个字符都是ASCII码中不可打印的字符。当然ASCII码对应着二进制表达，它们就是两种特殊的二进制码。

##### 透明传输

+ 封装成帧中的帧界定符显然